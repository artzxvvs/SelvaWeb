{% load static %}
<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1a2a1f" />
    <title>{% block title %}SelvaCore{% endblock %}</title>
  <link rel="icon" type="image/svg+xml" href="{% static 'img/site-icon.svg' %}" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    {% block head_extra %}{% endblock %}
  </head>
  <body class="page-body">
    <a class="skip-link" href="#conteudo-principal">Ir direto ao conteúdo</a>
    <div class="page-backdrop" aria-hidden="true"></div>
    <header class="site-header">
      {% block navigation %}
        <nav class="site-nav">
          <div class="brand">
            <img src="{% static 'img/site-mark.svg' %}" alt="Logotipo SelvaCore" class="brand__mark" />
            <div class="brand__text">
              <span class="brand__label">SelvaCore Studios</span>
              <span class="brand__tag">Núcleo criativo da selva digital</span>
            </div>
          </div>
          <div class="nav-actions">
            <a class="nav-link" href="#lancamentos">Lançamentos</a>
            <a class="nav-link" href="#manifesto">Manifesto</a>
            <a class="nav-link nav-link--cta" href="#contato">Contato</a>
            <a class="nav-yt" href="https://www.youtube.com/@selvacore" target="_blank" rel="noopener" aria-label="SelvaCore no YouTube">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M23.5 6.2s-.2-1.6-.8-2.3c-.8-.9-1.7-.9-2.1-1C16.8 2.3 12 2.3 12 2.3h-.1s-4.8 0-8.6.6C2.5 3.1 1.6 3.1.8 4 0 4.8 0 6.4 0 6.4S0 8 0 9.6v4.8C0 16 0 17.6.8 18.4c.8.9 2.1.9 2.7 1 2.9.4 12.8.5 12.8.5s4.8 0 8.6-.6c.5-.1 1.3-.1 2.1-1 .6-.7.8-2.3.8-2.3s.2-1.6.2-3.2V9.6c0-1.6-.2-3.4-.2-3.4z" fill="#FF0000"/><path d="M9.5 15.2l6-3.6-6-3.6v7.2z" fill="#fff"/></svg>
            </a>
            <a class="nav-ig" href="https://www.instagram.com/selvacoredevstudio" target="_blank" rel="noopener" aria-label="SelvaCore no Instagram">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><defs><linearGradient id="igGrad" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#f58529"/><stop offset="50%" stop-color="#dd2a7b"/><stop offset="100%" stop-color="#8134af"/></linearGradient></defs><rect x="2" y="2" width="20" height="20" rx="5" fill="url(#igGrad)"/><path d="M12 8.2a3.8 3.8 0 1 0 0 7.6 3.8 3.8 0 0 0 0-7.6z" fill="#fff" opacity="0.95"/><circle cx="17.2" cy="6.8" r="0.9" fill="#fff" opacity="0.95"/></svg>
            </a>
          </div>
        </nav>
      {% endblock %}
    </header>
    
    <main id="conteudo-principal" class="page-main">
      {% block content %}{% endblock %}
    </main>
    <footer class="site-footer" id="contato">
      {% block footer %}
        <div class="footer-grid">
          <div>
            <h2 class="footer-title">SelvaCore Studios</h2>
            <p class="footer-text">Construindo experiências intensas que respeitam a selva de histórias dos jogadores.</p>
          </div>
          <div>
            <p class="footer-text">Parcerias e imprensa</p>
            <a class="footer-link" href="mailto:selvacoredevstudio@gmail.com">selvacoredevstudio@gmail.com</a>
          </div>
          <div>
            <p class="footer-text">Siga o desenvolvimento</p>
            <p class="footer-text footer-links">
              <a class="footer-link" href="https://www.youtube.com/@selvacore" target="_blank" rel="noopener">YouTube</a>
              <p></p>
              <a class="footer-link" href="https://www.instagram.com/selvacoredevstudio" target="_blank" rel="noopener">Instagram</a>

            </p>
            <p class="footer-note">Em incubação: Capivara Rafaela — uma aventura com pegadas de conscientização ambiental.</p>
          </div>
        </div>
        <p class="footer-meta">SelvaCore © {% now "Y" %} — Força criativa da selva digital</p>
      {% endblock %}
    </footer>
    {% block scripts %}{% endblock %}
    <script>
    (function(){
      function initCarouselGeneric(root, options){
        const track = root.querySelector(options.trackSelector);
        const slides = Array.from(root.querySelectorAll(options.slideSelector));
        const prev = root.querySelector(options.prevSelector);
        const next = root.querySelector(options.nextSelector);
        let index = 0;
        const total = slides.length;
        let interval = parseInt(root.dataset.interval || 4000, 10);
        let autoplay = root.dataset.autoplay === 'true';
        let timer = null;

        function go(i){
          index = (i + total) % total;
          if(track) track.style.transform = `translateX(${ -index * 100 }%)`;
        }

        function start(){ if(autoplay && total>1){ timer = setInterval(()=> go(index+1), interval); } }
        function stop(){ if(timer){ clearInterval(timer); timer = null; } }

        if(prev) prev.addEventListener('click', ()=> { stop(); go(index-1); start(); });
        if(next) next.addEventListener('click', ()=> { stop(); go(index+1); start(); });

        root.addEventListener('mouseenter', stop);
        root.addEventListener('mouseleave', start);

        // init
        go(0);
        start();
      }

      document.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.carousel').forEach(function(el){
          initCarouselGeneric(el, { trackSelector: '.carousel-track', slideSelector: '.carousel-slide', prevSelector: '.carousel-prev', nextSelector: '.carousel-next' });
        });
        document.querySelectorAll('.simple-carousel').forEach(function(el){
          initCarouselGeneric(el, { trackSelector: '.simple-carousel-track', slideSelector: '.simple-carousel-slide', prevSelector: null, nextSelector: null });
        });
      });
    })();
    </script>
  </body>
</html>
